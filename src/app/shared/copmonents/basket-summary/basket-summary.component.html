<!-- basket-summary.component.html -->
<div class="basket-summary">
  <!-- Empty basket message -->
  <div *ngIf="(basket$|async) == null" class="empty-basket-message">
    <h3>There are no items in your basket</h3>
  </div>

  <!-- Basket items table -->
  <div *ngIf="(basket$|async)" class="basket-table-container">
    <table class="basket-table">
      <thead class="basket-table-header" [class.checkout-header]="!isBasket">
        <tr>
          <th class="product-column">Product</th>
          <th class="price-column">Price</th>
          <th class="quantity-column" [class.text-center]="!isBasket">Quantity</th>
          <th class="total-column">Total</th>
          <th *ngIf="isBasket" class="remove-column">Remove</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of (basket$|async)?.items" class="basket-item-row">
          <!-- Product column -->
          <td class="product-cell">
            <div class="product-info">
              <div class="product-image-container">
                <img [src]="item.pictureUrl" 
                     [alt]="item.productName" 
                     class="product-image">
              </div>
              <div class="product-details">
                <h5 class="product-name">
                  <a [routerLink]="'/shop/' + item.id" 
                     class="product-link">
                    {{item.productName}}
                  </a>
                </h5>
                <p class="product-type">Type: {{item.type}}</p>
              </div>
            </div>
          </td>

          <!-- Price column -->
          <td class="price-cell">
            <span class="price-value">{{item.price | currency}}</span>
          </td>

          <!-- Quantity column -->
          <td class="quantity-cell" [class.text-center]="!isBasket">
            <div class="quantity-controls">
              <i *ngIf="isBasket" 
                 (click)="decrementItemQuantity(item)" 
                 class="quantity-btn quantity-decrease"
                 aria-label="Decrease quantity">
              </i>
              <span class="quantity-value">{{item.quantity}}</span>
              <i *ngIf="isBasket" 
                 (click)="incrementItemQuantity(item)" 
                 class="quantity-btn quantity-increase"
                 aria-label="Increase quantity">
              </i>
            </div>
          </td>

          <!-- Total column -->
          <td class="total-cell">
            <span class="total-value">{{item.quantity * item.price | currency}}</span>
          </td>

          <!-- Remove column -->
          <td *ngIf="isBasket" class="remove-cell">
            <button (click)="removeItemFromBasket(item)" 
                    class="remove-btn"
                    aria-label="Remove item">
              <i class="remove-icon"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>