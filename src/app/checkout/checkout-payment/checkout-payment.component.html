<div class="payment-container" [formGroup]="checkoutForm">
    <div class="form-header">
        <h3 class="form-title">Payment Information</h3>
        <p class="form-subtitle">Enter your payment details securely</p>
    </div>

    <div class="row my-4 ">
    <div class="col-12">
        <div class="form-floating mb-3" formGroupName="paymentForm">
            <input type="text" class="form-control" formControlName="nameOnCard">
            <label>Name on card</label>
        </div>
    </div>
    <div class="col-6">
        <div class="form-floating mb-3">
            <div class="form-control" #cardNumber></div>
            <label>Card Number</label>
            <span class="text-danger">{{cardErrors}}</span>
        </div>
    </div>
    <div class="col-3">
        <div class="form-floating mb-3">
            <div class="form-control" #cardExpiry></div>
            <label>Card Expiry</label>
        </div>
    </div>
    <div class="col-3">
        <div class="form-floating mb-3">
            <div class="form-control" #cardCvc></div>
            <label>Card Cvc</label>
        </div>
    </div>
</div>

    <div class="form-actions">
        <button class="btn btn-outline-custom" cdkStepperPrevious>
            <i class="me-2 fa-solid fa-arrow-left"></i> Back to Review
        </button>
        <button 
            class="btn btn-primary-custom" 
            [disabled]="loading || !paymentFormComplete" 
            (click)="submitOrder()">
            <span *ngIf="!loading">Complete Order</span>
            <span *ngIf="loading" class="loading-content">
                <i class="fa-solid fa-spinner fa-spin me-2"></i>Processing...
            </span>
        </button>
    </div>
</div>